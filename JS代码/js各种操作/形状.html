<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>

</head>

<body>
<canvas id="mycanvas" width="800px" height="800px" ></canvas>
<script>
function Point(x,y){
	this.x=x;
	this.y=y;
	}
/*function Line(p1,p2){
	this.p1=p1;
	this.p2=p2;
	this.length=Math.sqrt(Math.pow(p2.x-p1.x,2)-Math.pow(p2.y-p1.y,2));//(Math.pow(p2.x-p1.x,2)(Math.pow(p2.y-p1.y,2)
	}*/
	function Shape(){
		 this.points=[];
		// this.lines=[]; 
		 this.init();
		}

	Shape.prototype={
		 init:function(){
			  if((typeof this.context)=='undefined'){
				  var canvas=document.getElementById('mycanvas');
				  this.context=canvas.getContext('2d');
				  }
			 },
		draw:function(){
			 var ctx=this.context;
			 ctx.strokeStyle=this.getColor();
			 ctx.beginPath();
			 ctx.moveTo(this.points[0].x,this.points[0].y);
			 for(var i=1;i<this.points.length;i++){
				  ctx.lineTo(this.points[i].x,this.points[i].y);
				 }
				 ctx.closePath();
				 ctx.stroke();
			 },
		getColor:function(){
			  var cs=[];
			  for(var i=0;i<3;i++){
				   cs[i]=Math.round(Math.random()*255);
				  }
				  return 'rgb('+cs.join(',')+')';
			 },
	    /*  getLines:function(){
		      if(this.lines.length>0){
				  return this.lines;
				  }
			 var lines=[];
			 if(this.points.length<=0){
				 return this.lines;
				 }
			 for(var i=0;i<this.points.length;i++){
				  lines[i]=new Line(this.points[i],(this.points[i+1])?this.points[i+1]:this.points[0]);
				 }
			  this.lines=lines;
			  return lines;
			 },*/
	   getPoints:function(){
			  return this.points;
			 },
	  /*getParimeter:function(){
		   var lines=this.getLines();
		    var perim=0;
		   for(var i=0;i<this.lines.length;i++){
			   var perim=0;
			   perim+=lines[i].length;
			   }
			 return perim;
			 },
	 getArea:function(){
		 
		 },*/
		 	 
		}
		function Triangle(p1,p2,p3){
			this.points=[p1,p2,p3];
			
			}
		Triangle.prototype=new Shape();
		var p1=new Point(200,300);
		var p2=new Point(400,600);
		var p3=new Point(220,300);
		var t1=new Triangle(p1,p2,p3);
		t1.draw();

		/*function Zheng(p1,p2,p3,p4){
			this.points=[p1,p2,p3,p4];
			};
		 Zheng.prototype=new Shape();
		 var p1=new Point(200,200);
		 var p2=new Point(400,200);
		 var p3=new Point(400,400);
		 var p4=new Point(200,400);
		 var t2=new Zheng(p1,p2,p3,p4);
		 
		  t2.draw();*/
		  //长方形 
		/*function Rectangle(a,l,w){
			 a2=new Point(a.x+l,a.y);
			 a3=new Point(a.x+l,a.y+w);
			 a4=new Point(a.x,a.y+w);
			 this.points=[a,a2,a3,a4];
			 this.getArea=function(){
				  return l*w;
				 }
			}
		Rectangle.prototype=new Shape();
		t3=new Rectangle(p1,200,100);
		t3.draw();
		alert(t3.getArea());
		正方形
		square.prototype=new Shape();
		function square(a,l){
		 Rectangle.call(this,a,l,l);	
		}
		t4=new square(p2,200);
		t4.draw();
		alert(t4.getArea());
		alert(t4.getLines());
    
	(function(){
		var s=new Shape();
		Rectangle.prototype=s;
		square.prototype=s;
		})();*/
 </script>
</body>
</html>
